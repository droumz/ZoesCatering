{% extends 'website/layout.html' %}

{% block content %}
<br><br><br><br>

<main class="container my-4">

    <h3 class="my-4 border-bottom pb-1">{{ data.title }}</h3>
    <div class="row">

        <div class="col-md-4">
            <img id="zoom_01" data-zoom-image="/media/{{ data.image }}" src="/media/{{ data.image }}" class="card-img-top" alt="{{ data.title }}" style="max-height: 300px;">
        </div>
        <div class="col-md-8">
            <p>{{ data.detail }}</p>
            <hr/>
            <table class="table table-bordered">
                <tr>
                    <th>Party Sizes</th>
                    <td>
                        {% for size in sizes %}
                        <button data-price="{{ size.price }}" class="btn btn-outline-secondary choose-color choose-size" onclick="updatePrice(this)">{{ size.size__title }}</button>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <th>Price</th>
                    <td>$ <span id="displayed-price">{{ data.productattribute_set.first.price }}</span></td>
                </tr>
            </table>
            <hr/>
            <div class="input-group my-3" style="width:30%;">
                <div class="input-group-append">
                    <input type="hidden" class="product-image-{{ data.id }}" value="{{ data.product.image }}" />
                    <input type="hidden" class="product-id-{{ data.id }}" value="{{ data.id }}" />
                    <input type="hidden" class="product-title-{{ data.id }}" value="{{ data.title }}" />
                </div>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-md-6">
            <h3 class="my-3">Details</h3>

            <table class="table table-bordered">
                <tr>
                    <th>Category</th>
                    <td><a href="/website/category-product-list/{{ data.category.id }}">{{ data.category.title }}</a></td>
                </tr>
                <tr>
                    <th>Description</th>
                    <td>{{ data.detail }}</td>
                </tr>
            </table>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
function updatePrice(button) {
    var price = button.getAttribute('data-price');
    document.getElementById('displayed-price').innerText = price;
}

</script>

{% endblock %}
